v0.2.2-383-gf9dc9e21

commit f9dc9e21b48a35c4018732edc3e1bb8657bf227c
Merge: 8aa0f034 0a25e46e
Author: Swain <niuyazhe314@outlook.com>
Date:   Tue Jan 3 16:45:04 2023 +0800

    Merge branch 'main' into PC

commit 0a25e46e29638a4be04654c7fd132ebdff4a556a
Author: Swain <niuyazhe314@outlook.com>
Date:   Mon Jan 2 18:27:50 2023 +0800

    feature(nyz): add new gym hybrid viz (#563)
    
    * feature(nyz): add new gym hybrid viz
    
    * fix(nyz): fix yapf style

 .gitignore                                         |   4 +-
 .../collector/interaction_serial_evaluator.py      |   4 +-
 dizoo/gym_hybrid/config/gym_hybrid_ddpg_config.py  |   4 +-
 dizoo/gym_hybrid/config/gym_hybrid_hppo_config.py  |   9 +--
 dizoo/gym_hybrid/config/gym_hybrid_mpdqn_config.py |   7 +--
 dizoo/gym_hybrid/config/gym_hybrid_pdqn_config.py  |   7 +--
 dizoo/gym_hybrid/entry/gym_hybrid_ddpg_eval.py     |  24 +++----
 dizoo/gym_hybrid/envs/gym-hybrid/gym_hybrid/bg.jpg | Bin 0 -> 524031 bytes
 .../envs/gym-hybrid/gym_hybrid/environments.py     |  70 +++++++++------------
 .../envs/gym-hybrid/gym_hybrid/target.png          | Bin 0 -> 3955 bytes
 dizoo/gym_hybrid/envs/gym_hybrid_env.py            |  27 +++-----
 dizoo/gym_hybrid/moving_v0.gif                     | Bin 120925 -> 1312473 bytes
 12 files changed, 55 insertions(+), 101 deletions(-)

commit 29a3378be88751addc322750100c39d9cfa39f82
Author: Swain <niuyazhe314@outlook.com>
Date:   Mon Jan 2 16:38:11 2023 +0800

    fix(nyz): fix py38 and numpy unittest bugs (#565)
    
    * fix(nyz): commented gym vector env manager test
    
    * fix(nyz): fix task finish init bug
    
    * fix close bug
    
    * fix close bug
    
    * fix close bug
    
    * style(nyz): change CI time from 40 to 80
    
    * fix(nyz): disable model exchanger test
    
    * style(nyz): constraint pynng version 0.7.1
    
    * fix(nyz): disable offline logger unittest
    
    * fix(nyz): disable offline logger unittest
    
    * fix(nyz): fix np dtype compatibility bug
    
    * fix(nyz): enable logger unittest
    
    * fix(nyz): reduce env manager unittest num

 ding/data/level_replay/level_sampler.py            |  5 +++--
 ding/envs/env_manager/tests/conftest.py            | 16 ++++++++--------
 .../env_manager/tests/test_base_env_manager.py     |  4 ++--
 ding/envs/env_manager/tests/test_env_supervisor.py | 22 +++++++++++-----------
 .../tests/test_gym_vector_env_manager.py           |  5 +++--
 .../tests/test_subprocess_env_manager.py           |  4 ++--
 ding/framework/middleware/tests/test_logger.py     | 11 +++++++++--
 ding/framework/task.py                             |  1 +
 ding/torch_utils/loss/multi_logits_loss.py         |  4 ++--
 .../loss/tests/test_contrastive_loss.py            |  2 +-
 .../tests/speed_test/test_collector_profile.py     |  3 ++-
 11 files changed, 44 insertions(+), 33 deletions(-)

commit c30818aa41e8142f200bbfce04a5dc36107230ff
Author: niuyazhe <niuyazhe314@outlook.com>
Date:   Thu Dec 22 00:21:10 2022 +0800

    fix(nyz): fix ttorch prev_state to device bug (#561)

 ding/torch_utils/data_helper.py | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit bc08a37f9cfc3b458266d7fe5f5b30ae72a5ce34
Author: niuyazhe <niuyazhe@sensetime.com>
Date:   Wed Dec 21 12:10:14 2022 +0800

    fix(nyz): fix to_device bug when using ttorch (#561)

 ding/torch_utils/data_helper.py | 2 ++
 1 file changed, 2 insertions(+)